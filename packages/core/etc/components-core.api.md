## API Report File for "@livekit/components-core"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { AudioCaptureOptions } from 'livekit-client';
import { BehaviorSubject } from 'rxjs';
import { ConnectionQuality } from 'livekit-client';
import { ConnectionState } from 'livekit-client';
import createEmailRegExp from 'email-regex';
import { DataPacket_Kind } from 'livekit-client';
import { LocalAudioTrack } from 'livekit-client';
import type { LocalParticipant } from 'livekit-client';
import { LocalVideoTrack } from 'livekit-client';
import loglevel from 'loglevel';
import { Observable } from 'rxjs';
import type { Participant } from 'livekit-client';
import { ParticipantEvent } from 'livekit-client';
import type { ParticipantEventCallbacks } from 'livekit-client/dist/src/room/participant/Participant';
import { ParticipantPermission } from 'livekit-client/dist/src/proto/livekit_models_pb';
import { RemoteParticipant } from 'livekit-client';
import { Room } from 'livekit-client';
import { RoomEvent } from 'livekit-client';
import type { RoomEventCallbacks } from 'livekit-client/dist/src/room/Room';
import type { ScreenShareCaptureOptions } from 'livekit-client';
import { setLogLevel as setLogLevel_2 } from 'livekit-client';
import { Track } from 'livekit-client';
import { TrackEvent as TrackEvent_2 } from 'livekit-client';
import { TrackPublication } from 'livekit-client';
import type { VideoCaptureOptions } from 'livekit-client';

// @public (undocumented)
export function activeSpeakerObserver(room: Room): Observable<Participant[]>;

// @public (undocumented)
export const allParticipantEvents: ParticipantEvent[];

// @public (undocumented)
export const allParticipantRoomEvents: RoomEvent[];

// @public (undocumented)
export const allRemoteParticipantEvents: ParticipantEvent[];

// @public (undocumented)
export const allRemoteParticipantRoomEvents: RoomEvent[];

// @public (undocumented)
export const attachIfSubscribed: (publication: TrackPublication | undefined, element: HTMLMediaElement | null | undefined) => void;

// @public (undocumented)
export type AudioSource = Track.Source.Microphone | Track.Source.ScreenShareAudio;

// @public (undocumented)
export interface BaseDataMessage<T extends string | undefined> {
    // (undocumented)
    payload: Uint8Array;
    // (undocumented)
    topic?: T;
}

// @public (undocumented)
export type CaptureOptionsBySource<T extends ToggleSource> = T extends Track.Source.Camera ? VideoCaptureOptions : T extends Track.Source.Microphone ? AudioCaptureOptions : T extends Track.Source.ScreenShare ? ScreenShareCaptureOptions : never;

// @public (undocumented)
export interface ChatMessage {
    // (undocumented)
    message: string;
    // (undocumented)
    timestamp: number;
}

// @public (undocumented)
export function computeMenuPosition(button: HTMLElement, menu: HTMLElement): Promise<{
    x: number;
    y: number;
}>;

// @public (undocumented)
export function connectedParticipantObserver(room: Room, identity: string, options?: ConnectedParticipantObserverOptions): Observable<RemoteParticipant | undefined>;

// @public (undocumented)
export type ConnectedParticipantObserverOptions = {
    additionalEvents?: ParticipantEvent[];
};

// Warning: (ae-forgotten-export) The symbol "ConnectedParticipantsObserverOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function connectedParticipantsObserver(room: Room, options?: ConnectedParticipantsObserverOptions): Observable<RemoteParticipant[]>;

// @public (undocumented)
export function connectionStateObserver(room: Room): Observable<ConnectionState>;

// @public (undocumented)
export function createActiveDeviceObservable(room: Room, kind: MediaDeviceKind): Observable<string | undefined>;

// @public (undocumented)
export function createConnectionQualityObserver(participant: Participant): Observable<ConnectionQuality>;

// @public (undocumented)
export function createDataObserver(room: Room): Observable<[payload: Uint8Array, participant?: RemoteParticipant | undefined, kind?: DataPacket_Kind | undefined, topic?: string | undefined]>;

// @public (undocumented)
export const createDefaultGrammar: () => {
    email: RegExp;
    url: RegExp;
};

export { createEmailRegExp }

// Warning: (ae-internal-missing-underscore) The name "createInteractingObservable" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function createInteractingObservable(htmlElement: HTMLElement | null, inactiveAfter?: number): Observable<boolean>;

// @public (undocumented)
export function createIsSpeakingObserver(participant: Participant): Observable<boolean>;

// @public (undocumented)
export function createMediaDeviceObserver(kind?: MediaDeviceKind, requestPermissions?: boolean): Observable<MediaDeviceInfo[]>;

// @public (undocumented)
export function createTrackObserver(participant: Participant, options: TrackIdentifier): Observable<{
    publication: TrackPublication | undefined;
}>;

// Warning: (ae-forgotten-export) The symbol "RegExOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function createUrlRegExp(options: RegExOptions): RegExp;

// @public (undocumented)
export const cssPrefix = "lk";

// @public (undocumented)
export type DataSendOptions = {
    kind?: DataPacket_Kind;
    destination?: string[];
};

// @public (undocumented)
export const DataTopic: {
    readonly CHAT: "lk-chat-topic";
};

// @public (undocumented)
export function encryptionStatusObservable(room: Room, participant: Participant): Observable<boolean>;

// Warning: (ae-internal-missing-underscore) The name "getScrollBarWidth" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function getScrollBarWidth(): number;

// @public (undocumented)
export function getTrackByIdentifier(options: TrackIdentifier): TrackPublication | undefined;

// @public
export function getTrackReferenceId(trackReference: TrackReferenceOrPlaceholder | number): string;

// @public
export function getTrackReferenceSource(trackReference: TrackReferenceOrPlaceholder): Track.Source;

// @public (undocumented)
export const GRID_LAYOUTS: GridLayoutDefinition[];

// @public (undocumented)
export type GridLayoutDefinition = {
    name: string;
    columns: number;
    rows: number;
    minTiles: number;
    maxTiles: number;
    minWidth: number;
    minHeight: number;
};

// @public (undocumented)
export function isEqualTrackRef(a?: TrackReferenceOrPlaceholder, b?: TrackReferenceOrPlaceholder): boolean;

// @public (undocumented)
export function isLocal(p: Participant): boolean;

// @public
export function isMobileBrowser(): boolean;

// @public @deprecated
export function isParticipantSourcePinned(participant: Participant, source: Track.Source, pinState: PinState | undefined): boolean;

// @public
export function isParticipantTrackReferencePinned(trackRef: TrackReference, pinState: PinState | undefined): boolean;

// Warning: (ae-internal-missing-underscore) The name "isPlaceholderReplacement" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export function isPlaceholderReplacement(currentTrackRef: TrackReferenceOrPlaceholder, nextTrackRef: TrackReferenceOrPlaceholder): boolean;

// @public (undocumented)
export function isRemote(p: Participant): boolean;

// @public (undocumented)
export function isSourcesWithOptions(sources: SourcesArray): sources is TrackSourceWithOptions[];

// @public (undocumented)
export function isSourceWitOptions(source: SourcesArray[number]): source is TrackSourceWithOptions;

// @public (undocumented)
export function isTrackReference(trackReference: unknown): trackReference is TrackReference;

// @public
export function isTrackReferencePinned(trackReference: TrackReferenceOrPlaceholder, pinState: PinState | undefined): boolean;

// @public (undocumented)
export function isTrackReferencePlaceholder(trackReference?: TrackReferenceOrPlaceholder): trackReference is TrackReferencePlaceholder;

// Warning: (ae-internal-missing-underscore) The name "isWeb" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function isWeb(): boolean;

// @alpha
export function loadUserChoices(defaults?: Partial<UserChoices>,
preventLoad?: boolean): UserChoices;

// @public (undocumented)
export const log: loglevel.Logger;

// @public (undocumented)
export type MediaToggleType<T extends ToggleSource> = {
    pendingObserver: Observable<boolean>;
    toggle: (forceState?: boolean, captureOptions?: CaptureOptionsBySource<T>) => Promise<void>;
    className: string;
    enabledObserver: Observable<boolean>;
};

// @public (undocumented)
export type MessageDecoder = (message: Uint8Array) => ReceivedChatMessage;

// @public (undocumented)
export type MessageEncoder = (message: ChatMessage) => Uint8Array;

// @public (undocumented)
export function mutedObserver(trackRef: TrackReferenceOrPlaceholder): Observable<boolean>;

// @public (undocumented)
export function observeParticipantEvents<T extends Participant>(participant: T, ...events: ParticipantEvent[]): Observable<T>;

// @public (undocumented)
export function observeParticipantMedia<T extends Participant>(participant: T): Observable<ParticipantMedia<T>>;

// @public (undocumented)
export function observeRoomEvents(room: Room, ...events: RoomEvent[]): Observable<Room>;

// @public (undocumented)
export function observeTrackEvents(track: TrackPublication, ...events: TrackEvent_2[]): Observable<TrackPublication>;

// @public (undocumented)
export interface ParticipantClickEvent {
    // (undocumented)
    participant: Participant;
    // (undocumented)
    track?: TrackPublication;
}

// @public (undocumented)
export function participantEventSelector<T extends ParticipantEvent>(participant: Participant, event: T): Observable<Parameters<ParticipantEventCallbacks[Extract<T, keyof ParticipantEventCallbacks>]>>;

// @public (undocumented)
export type ParticipantFilter = Parameters<Participant[]['filter']>['0'];

// @public (undocumented)
export function participantInfoObserver(participant: Participant): Observable<{
    name: string | undefined;
    identity: string;
    metadata: string | undefined;
} | {
    name: string | undefined;
    identity: string;
    metadata: string | undefined;
}>;

// @public (undocumented)
export interface ParticipantMedia<T extends Participant = Participant> {
    // (undocumented)
    cameraTrack?: TrackPublication;
    // (undocumented)
    isCameraEnabled: boolean;
    // (undocumented)
    isMicrophoneEnabled: boolean;
    // (undocumented)
    isScreenShareEnabled: boolean;
    // (undocumented)
    microphoneTrack?: TrackPublication;
    // (undocumented)
    participant: T;
}

// @public (undocumented)
export function participantPermissionObserver(participant: Participant): Observable<ParticipantPermission | undefined>;

// @public (undocumented)
export const PIN_DEFAULT_STATE: PinState;

// @public (undocumented)
export type PinState = TrackReferenceOrPlaceholder[];

// @public (undocumented)
export interface ReceivedChatMessage extends ChatMessage {
    // (undocumented)
    from?: Participant;
}

// @public (undocumented)
export interface ReceivedDataMessage<T extends string | undefined = string> extends BaseDataMessage<T> {
    // (undocumented)
    from?: Participant;
}

// @public (undocumented)
export type RequireOnlyOne<T, Keys extends keyof T = keyof T> = Pick<T, Exclude<keyof T, Keys>> & {
    [K in Keys]-?: Required<Pick<T, K>> & Partial<Record<Exclude<Keys, K>, undefined>>;
}[Keys];

// @public (undocumented)
export function roomAudioPlaybackAllowedObservable(room: Room): Observable<{
    canPlayAudio: boolean;
}>;

// @public (undocumented)
export function roomEventSelector<T extends RoomEvent>(room: Room, event: T): Observable<Parameters<RoomEventCallbacks[T]>>;

// @public (undocumented)
export function roomInfoObserver(room: Room): Observable<{
    name: string;
    metadata: string | undefined;
}>;

// @public (undocumented)
export function roomObserver(room: Room): Observable<Room>;

// @alpha
export function saveUserChoices(deviceSettings: UserChoices,
preventSave?: boolean): void;

// @public (undocumented)
export function screenShareObserver(room: Room): Observable<ScreenShareTrackMap>;

// @public (undocumented)
export type ScreenShareTrackMap = Array<{
    participant: Participant;
    tracks: Array<TrackPublication>;
}>;

// @public (undocumented)
export function selectGridLayout(layouts: GridLayoutDefinition[], participantCount: number, width: number, height: number): GridLayoutDefinition;

// @public
export function sendMessage(localParticipant: LocalParticipant, payload: Uint8Array, topic?: string, options?: DataSendOptions): Promise<void>;

// @public (undocumented)
export function setDifference<T>(setA: Set<T>, setB: Set<T>): Set<T>;

// Warning: (ae-forgotten-export) The symbol "LogLevel" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "SetLogLevelOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function setLogLevel(level: LogLevel, options?: SetLogLevelOptions): void;

// @public (undocumented)
export type SetMediaDeviceOptions = {
    exact?: boolean;
};

// @public (undocumented)
export function setupChat(room: Room, options?: {
    messageEncoder?: (message: ChatMessage) => Uint8Array;
    messageDecoder?: (message: Uint8Array) => ReceivedChatMessage;
}): {
    messageObservable: Observable<ReceivedChatMessage[]>;
    isSendingObservable: BehaviorSubject<boolean>;
    send: (message: string) => Promise<void>;
    destroy: () => void;
};

// @public (undocumented)
export function setupChatToggle(): {
    className: string;
};

// @public (undocumented)
export function setupClearPinButton(): {
    className: string;
};

// @public (undocumented)
export function setupConnectionQualityIndicator(participant: Participant): {
    className: "lk-connection-quality";
    connectionQualityObserver: Observable<ConnectionQuality>;
};

// @public (undocumented)
export function setupDataMessageHandler<T extends string>(room: Room, topic?: T, onMessage?: (msg: ReceivedDataMessage<T>) => void): {
    messageObservable: Observable<{
        payload: Uint8Array;
        topic: T;
        from: RemoteParticipant | undefined;
    }>;
    isSendingObservable: Observable<boolean>;
    send: (payload: Uint8Array, options?: DataSendOptions) => Promise<void>;
};

// @public (undocumented)
export function setupDeviceSelector(kind: MediaDeviceKind, room?: Room, localTrack?: LocalAudioTrack | LocalVideoTrack): {
    className: string;
    activeDeviceObservable: Observable<string | undefined>;
    setActiveMediaDevice: (id: string, options?: SetMediaDeviceOptions) => Promise<void>;
};

// @public (undocumented)
export function setupDisconnectButton(room: Room): {
    className: string;
    disconnect: (stopTracks?: boolean) => void;
};

// @public (undocumented)
export function setupFocusToggle(): {
    className: string;
};

// @public (undocumented)
export function setupLiveKitRoom(): {
    className: string;
};

// @public (undocumented)
export function setupManualToggle(): {
    className: string;
    toggle: (forceState?: boolean) => void;
    enabledObserver: Observable<boolean>;
    pendingObserver: Observable<boolean>;
};

// @public (undocumented)
export function setupMediaToggle<T extends ToggleSource>(source: T, room: Room, options?: CaptureOptionsBySource<T>): MediaToggleType<T>;

// @public (undocumented)
export function setupMediaTrack(trackIdentifier: TrackIdentifier): {
    className: string;
    trackObserver: Observable<TrackPublication | undefined>;
};

// @public (undocumented)
export function setupParticipantName(participant: Participant): {
    className: string;
    infoObserver: Observable<    {
    name: string | undefined;
    identity: string;
    metadata: string | undefined;
    } | {
    name: string | undefined;
    identity: string;
    metadata: string | undefined;
    }>;
};

// @public (undocumented)
export function setupParticipantTile(): {
    className: string;
};

// @public (undocumented)
export function setupStartAudio(): {
    className: string;
    roomAudioPlaybackAllowedObservable: typeof roomAudioPlaybackAllowedObservable;
    handleStartAudioPlayback: (room: Room) => Promise<void>;
};

// @public (undocumented)
export function setupTrackMutedIndicator(trackRef: TrackReferenceOrPlaceholder): {
    className: string;
    mediaMutedObserver: Observable<boolean>;
};

// @public
export function sortParticipants(participants: Participant[]): Participant[];

// @public
export function sortTrackReferences(tracks: TrackReferenceOrPlaceholder[]): TrackReferenceOrPlaceholder[];

// @public (undocumented)
export type SourcesArray = Track.Source[] | TrackSourceWithOptions[];

// @public
export function supportsScreenSharing(): boolean;

// @public (undocumented)
export type ToggleSource = Exclude<Track.Source, Track.Source.ScreenShareAudio | Track.Source.Unknown>;

// @public (undocumented)
export function tokenize<T extends TokenizeGrammar>(input: string, grammar: T): (string | {
    type: keyof T;
    content: string;
})[];

// @public (undocumented)
export type TokenizeGrammar = {
    [type: string]: RegExp;
};

// @public
export type TrackIdentifier<T extends Track.Source = Track.Source> = TrackSource<T> | TrackReference;

// @public (undocumented)
export function trackObservable(track: TrackPublication): Observable<TrackPublication>;

// @public (undocumented)
export type TrackReference = {
    participant: Participant;
    publication: TrackPublication;
    source: Track.Source;
};

// @public (undocumented)
export type TrackReferenceFilter = Parameters<TrackReferenceOrPlaceholder[]['filter']>['0'];

// @public (undocumented)
export type TrackReferenceId = ReturnType<typeof getTrackReferenceId>;

// @public (undocumented)
export type TrackReferenceOrPlaceholder = TrackReference | TrackReferencePlaceholder;

// @public (undocumented)
export type TrackReferencePlaceholder = {
    participant: Participant;
    publication?: never;
    source: Track.Source;
};

// Warning: (ae-forgotten-export) The symbol "TrackReferencesObservableOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function trackReferencesObservable(room: Room, sources: Track.Source[], options: TrackReferencesObservableOptions): Observable<{
    trackReferences: TrackReference[];
    participants: Participant[];
}>;

// Warning: (ae-forgotten-export) The symbol "RequireAtLeastOne" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type TrackSource<T extends Track.Source> = RequireAtLeastOne<{
    source: T;
    name: string;
    participant: Participant;
}, 'name' | 'source'>;

// @public (undocumented)
export type TrackSourceWithOptions = {
    source: Track.Source;
    withPlaceholder: boolean;
};

// Warning: (ae-forgotten-export) The symbol "UpdatableItem" needs to be exported by the entry point index.d.ts
//
// @public
export function updatePages<T extends UpdatableItem>(currentList: T[], nextList: T[], maxItemsOnPage: number): T[];

// @public
export type UserChoices = {
    videoInputEnabled: boolean;
    audioInputEnabled: boolean;
    videoInputDeviceId: string;
    audioInputDeviceId: string;
    username: string;
};

// @public (undocumented)
export type VideoSource = Track.Source.Camera | Track.Source.ScreenShare;

// @public (undocumented)
export function wasClickOutside(insideElement: HTMLElement, event: MouseEvent): boolean;

// @public (undocumented)
export const WIDGET_DEFAULT_STATE: WidgetState;

// @public (undocumented)
export type WidgetState = {
    showChat: boolean;
    unreadMessages: number;
};

// (No @packageDocumentation comment for this package)

```
